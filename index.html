<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>Spot Internals</title>

    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/reveal.css" />
    <link rel="stylesheet" href="css/theme/black.css" />

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/monokai.css" />

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement("link");
      link.rel = "stylesheet";
      link.type = "text/css";
      link.href = window.location.search.match(/print-pdf/gi)
        ? "css/print/pdf.css"
        : "css/print/paper.css";
      document.getElementsByTagName("head")[0].appendChild(link);
    </script>

    <style>
      .no-uppercase {
        text-transform: none !important;
      }
    </style>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section data-markdown>
          <script type="text/template">
            # Spot
            ### How does it work?
          </script>
        </section>
        <section data-markdown>
          <script type="text/template">
            ### OpenAPI 3
            ```yaml
openapi: "3.0.0"
info:
  version: 1.0.0
  title: Petstore
  license:
    name: MIT
servers:
  - url: http://petstore.swagger.io/v1
paths:
  /pets:
    get:
      summary: List all pets
      operationId: listPets
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Pets"
    post:
      summary: Create a pet
      operationId: createPets
      responses:
        '201':
          description: Null response
  /pets/{petId}:
    get:
      summary: Info for a specific pet
      operationId: showPetById
      parameters:
        - name: petId
          in: path
          required: true
          description: The id of the pet to retrieve
          schema:
            type: string
      responses:
        '200':
          description: Expected response to a valid request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Pet"
components:
  schemas:
    Pet:
      required:
        - id
        - name
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        tag:
          type: string
    Pets:
      type: array
      items:
        $ref: "#/components/schemas/Pet"
            ```
          </script>
        </section>
        <section data-markdown>
          <script type="text/template">
            ### Spot (TypeScript)
            ```typescript
import { api, endpoint, request, response, body, Int64, String } from "@airtasker/spot";

@api({
  name: "Petstore"
})
class Api {}

/**
 * List all pets
 */
@endpoint({
  method: "GET",
  path: "/pets"
})
class ListPets {
  @response({ status: 200 })
  response(@body body: Pets) {}
}

/**
 * Create a pet
 */
@endpoint({
  method: "POST",
  path: "/pets"
})
class CreatePets {
  @response({ status: 201 })
  response() {}
}

/**
 * Info for a specific pet
 */
@endpoint({
  method: "GET",
  path: "/pets/:petId"
})
class CreatePets {
  @request
  request(
    @pathParams
    pathParams: {
      /** The id of the pet to retrieve */
      petId: String;
    }
  ) {}

  @response({ status: 200 })
  response(@body body: Pet) {}
}

type Pets = Pet[];

interface Pet {
  id: Int64;
  name: String;
  tag?: String;
}
            ```
          </script>
        </section>
        <section data-markdown>
          <script type="text/template">
            # TypeScript AST
            https://ts-ast-viewer.com
          </script>
        </section>
      </div>
    </div>
    <script src="js/reveal.js"></script>
    <script>
      // More info about config & dependencies:
      // - https://github.com/hakimel/reveal.js#configuration
      // - https://github.com/hakimel/reveal.js#dependencies
      Reveal.initialize({
        history: true,
        dependencies: [
          { src: "plugin/markdown/marked.js" },
          { src: "plugin/markdown/markdown.js" },
          { src: "plugin/notes/notes.js", async: true },
          { src: "plugin/highlight/highlight.js", async: true }
        ]
      });
    </script>
  </body>
</html>
